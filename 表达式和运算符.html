<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>表达式和运算符</title>
</head>
<body>
    <script>
        // 进制转换并控制位数
        function transformBitFrom10(num, bit = 2, total) {
            let target = Number(num);
            if (!isNaN(target)) {
                let result = target.toString(bit);
                return total > 0 ? result.length >= total ? result.slice(0, total) : Array.from({length: total - result.length}, v => '0').join('') + result : result
            } else {
                return num
            }
        }
    </script>
    <script>
        // 逗号操作符 对它的每个操作数求值（从左到右），并返回最后一个操作数的值。
        // 当你想要在期望一个表达式的位置包含多个表达式时，可以使用逗号操作符
        for (var i = 0, j = 9; i <= 9; i++, j--) {
            console.log(i, j)
        }


        // 加法赋值
        let a = 2;
        let b = 'hello';
        console.log(a += 3); // addition
        // expected output: 5
        console.log(b += ' world'); // concatenation
        // expected output: "hello world"

        // 相加运算符 注: '+'两侧只要有一侧是字符串，另一侧的数字则会自动转换成字符串，因为其中存在隐式转换
        console.log(2 + 2);
        // expected result: 4
        console.log(2 + true);
        // expected result: 3
        console.log('hello ' + 'everyone');
        // expected result: "hello everyone"
        console.log(2001 + ': A Space Odyssey');
        // expected result: "2001: A Space Odyssey"

        // 赋值运算符
        let x = y = 10, z = 5;
        x = y = z


        // 条件（三元）运算符 condition ? exprIfTrue : exprIfFalse

        // 自减运算符(--) ,x-- or --x

        // delete 操作符  delete object.property

        // 解构赋值语法是一种 Javascript 表达式
        // let [a, b, ...rest] = [10, 20, 30, 40, 50];
        // let {a, b, ...rest} = {a: 10, b: 20, c: 30, d: 40}
        // [obj.a = 1, obj.b = 2] = ['a', 'b']


        // 除等于 (/=)
        // Operator: x /= y
        // Meaning:  x  = x / y
        // 除法运算符 (/) 计算了两个操作数的商

        // 求幂等于(**=)，IE is No support
        // Operator: x **= y
        // Meaning:  x  = x ** y
        // 求幂运算符（**），IE is No support
        // 返回将第一个操作数加到第二个操作数的幂的结果。它等效于Math.pow，不同之处在于它也接受BigInts作为操作数
        // 2 ** 3 ** 2 = Math.pow(2, Math.pow(3, 2)) = 512
        // (2 ** 3) ** 2 = Math.pow(Math.pow(2, 3), 2) = 64
        // a ** b ** c 等于 a ** (b ** c)

        // 大于或等于(>=)
        // "b" >= "a"
        // "a" >= "4"
        // null >= 0  =>  Number(null) >= 0  =>  0 >= 0
        // undefined >= 0   =>  Number(undefined) >= 0  => NaN >= 0
        // 大于运算符 (>), 同上


        // 圆括号运算符 ( ) 用于控制表达式中的运算优先级（运算符优先级）
        // (1 + 2) * 3 = 9


        // in 运算符
        // 'make' in { make: 'Honda', model: 'Accord', year: 1998 }
        // 'toString' in {}

        // instanceof 运算符用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上
        // document.body instanceof HTMLElement


        // 自增运算符 (++) 
        // Operator: x++ or ++x



        // function* 表达式
        const iteratorFn = function* ite() {
            yield 'a';
            yield 'b';
            yield 'c';
        }
        console.log(iteratorFn().next())


        // 函数表达式 function
        const factorial = function (n) {
            if (n <= 1)
            return 1;
            return n * factorial(n - 1);
        }








        // 等于运算符（==）不等于 (!=)检查其两个操作数是否(不?)相等，并返回Boolean结果
        // 1 == '1'
        // undefined == null
        // 0 != undefined
        // [] == '' == 0
        // {} == '[object Object]'
        // NaN != NaN


        // async function expression await 表达式
        async function fff(params) {
            console.log('async await')
            return await new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(params)
                }, 2000);
            })
        }

        // 类表达式/命名类表达式，并用时候 NamedFoo 只能内部访问
        const Foo = class NamedFoo {
            constructor() {

            }
            whoIsThere() {
                return NamedFoo.name;
            }
        }


        // 按位与赋值(&=)
        // Operator: x &= y
        // Meaning:  x  = x & y
        // 按位与 (&), 两个操作数转换成32位的二进制，相同的位置都是1 => 1, 相同位置都是0 => 0，相同位置不相等 => 0,任何数字 x&0 的运算结果都是0
        // 3&5 = 00000000000000000000000000000001 = 1, '00000000000000000000000000000011', '00000000000000000000000000000101'


        // 按位或赋值(|=)
        // Operator: x |= y
        // Meaning:  x  = x | y
        // 按位或 (|), 两个操作数转换成32位的二进制，同一位置任意一个是1 => 1,任何数字 x|0 的运算结果都是x
        // 3&5 = 00000000000000000000000000000111 = 7, '00000000000000000000000000000011', '00000000000000000000000000000101'

        // 按位非 (~), 操作数转换成32位的二进制每一位取反，1 => 0, 0 => 1, 任何数字 x 的运算结果都是 -(x + 1)
        // ~0 = -1
        // ~-1 = 0
        // ~1 = 0
        // ~parseInt('11111111111111111111111111111111', 2) = 0


        // 按位异或赋值 (^=)
        // Operator: x ^= y
        // Meaning:  x  = x ^ y
        // 按位异 (^), 两个操作数转换成32位的二进制，同一位置不相同 => 1,相同 => 0,任何数字 x^0 的运算结果都是x
        // 3&5 = 00000000000000000000000000000110 = 6, '00000000000000000000000000000011', '00000000000000000000000000000101'


        // 左移操作符赋值 (<<=) 
        // Operator: x <<= y
        // Meaning:  x  = x << y


    </script>
</body>
</html>